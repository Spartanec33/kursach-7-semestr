#include "tipslabel.h"
#include <QResizeEvent>

TipsLabel::TipsLabel(QWidget* parent)
    : QLabel(parent)
{
    setupStyle();
    showNothingSelected();
}

//–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∏–ª—è –≤–∏–¥–∂–µ—Ç–∞
void TipsLabel::setupStyle()
{
    setStyleSheet(
        "TipsLabel {"
        "   background-color: rgba(0, 0, 0, 150);"
        "   color: white;"
        "   padding: 10px;"
        "   border-radius: 5px;"
        "   font-size: 12px;"
        "   line-height: 130%;"
        "}"
    );

    setAlignment(Qt::AlignTop | Qt::AlignLeft);
}

//–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
void TipsLabel::applyTip(QString tips)
{
    setText(tips);
    adjustSize();
    updatePosition();
}

//–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —É–∑–ª–µ
void TipsLabel::showNodeSelected()
{
    QString tips =
        "üè≠ <b>–í—ã–±—Ä–∞–Ω –∑–∞–≤–æ–¥</b><br><br>"
        "‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è<br>"
        "‚Ä¢ –ó–∞–∂–∞—Ç—å –õ–ö–ú –Ω–∞ —Ç–µ–∫—É—â–µ–º –∑–∞–≤–æ–¥–µ + –¥–≤–∏–≥–∞—Ç—å - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–≤–æ–¥–∞<br>"
        "‚Ä¢ –õ–ö–ú –Ω–∞ –¥—Ä—É–≥–æ–º –∑–∞–≤–æ–¥–µ - –≤—ã–±—Ä–∞—Ç—å –µ–≥–æ<br>"
        "‚Ä¢ –ü–ö–ú –Ω–∞ –¥—Ä—É–≥–æ–º –∑–∞–≤–æ–¥–µ - —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç–∞–≤–∫—É –º–µ–∂–¥—É –Ω–∏–º–∏<br>"
        "‚Ä¢ –õ–ö–ú –Ω–∞ –ø–æ—Å—Ç–∞–≤–∫—É - –≤—ã–±—Ä–∞—Ç—å –µ—ë<br>"
        "‚Ä¢ –õ–ö–ú –≤ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ - —Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ";

    applyTip(tips);
}

//–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Ä–µ–±—Ä–µ
void TipsLabel::showEdgeSelected()
{
    QString tips =
        "üöö <b>–í—ã–±—Ä–∞–Ω–∞ –ø–æ—Å—Ç–∞–≤–∫–∞</b><br><br>"
        "‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è<br>"
        "‚Ä¢ –õ–ö–ú –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Å—Ç–∞–≤–∫–µ - –≤—ã–±—Ä–∞—Ç—å –µ—ë<br>"
        "‚Ä¢ –õ–ö–ú/–ü–ö–ú –Ω–∞ –∑–∞–≤–æ–¥–µ - –≤—ã–±—Ä–∞—Ç—å –µ–≥–æ<br>"
        "‚Ä¢ –õ–ö–ú –≤ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ - —Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ";

    applyTip(tips);
}

//–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–≥–¥–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–¥–µ–ª–µ–Ω–æ
void TipsLabel::showNothingSelected()
{
    QString tips =
        "üéØ <b>–ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</b><br><br>"
        "‚Ä¢ –õ–ö–ú –≤ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ - —Å–æ–∑–¥–∞—Ç—å –∑–∞–≤–æ–¥<br>"
        "‚Ä¢ –õ–ö–ú –ø–æ –ø–æ—Å—Ç–∞–≤–∫–µ - –≤—ã–±—Ä–∞—Ç—å –µ–µ<br>"
        "‚Ä¢ –õ–ö–ú/–ü–ö–ú –ø–æ –∑–∞–≤–æ–¥—É - –≤—ã–±—Ä–∞—Ç—å –µ–≥–æ";

    applyTip(tips);
}

//–°–¥–≤–∏–Ω—É—Ç—å –≤ –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
void TipsLabel::updatePosition()
{
    if (parentWidget())
        move(parentWidget()->width() - width() - 10, 10);
}
